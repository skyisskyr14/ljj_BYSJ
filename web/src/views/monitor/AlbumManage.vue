<template><div><PageHeader title="相册管理" desc="创建与删除"/><div class="card"><input v-model="name" placeholder="相册名"/><button @click="create">创建</button></div><div class="card" v-for="a in list" :key="a.id">{{a.name}}<button @click="del(a)">删除</button></div></div></template><script>import PageHeader from '../../components/PageHeader.vue';import { albumListApi,manageAlbumApi } from '../../api/modules/album';export default{components:{PageHeader},data(){return{list:[],name:''}},methods:{async load(){this.list=(await albumListApi()).data},async create(){await manageAlbumApi({action:'create',payload:{name:this.name,classId:'c1',permission:'all'}});this.name='';this.load()},async del(a){await manageAlbumApi({action:'remove',id:a.id});this.load()}},mounted(){this.load()}}</script>