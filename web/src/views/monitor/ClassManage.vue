<template><div><PageHeader title="班级管理" desc="创建删除班级"/><div class="card"><input v-model="form.name" placeholder="班级名"/><input v-model="form.year" placeholder="届别"/><input v-model="form.school" placeholder="学校"/><button @click="create">创建</button></div><div class="card" v-for="c in list" :key="c.id">{{c.name}} {{c.code}} <button @click="remove(c)">删除</button></div></div></template><script>import PageHeader from '../../components/PageHeader.vue';import { classListApi,createClassApi,removeClassApi } from '../../api/modules/class';export default{components:{PageHeader},data(){return{list:[],form:{name:'',year:'',school:'',desc:'',allowJoin:true}}},methods:{async load(){this.list=(await classListApi()).data},async create(){await createClassApi(this.form);this.load()},async remove(c){await removeClassApi({id:c.id});this.load()}},mounted(){this.load()}}</script>