<template><div><PageHeader title="同学地图" desc="位置上报"/><div class="card"><button @click="random">模拟定位</button></div><MapMock :points="points"/></div></template><script>import PageHeader from '../../components/PageHeader.vue';import MapMock from '../../components/MapMock.vue';import { mapPointsApi,updateMyPositionApi } from '../../api/modules/map';export default{components:{PageHeader,MapMock},data(){return{points:[]}},methods:{async load(){this.points=(await mapPointsApi()).data},async random(){const u=this.$store.state.auth.user;await updateMyPositionApi({classId:'c1',userId:u.id,lng:116+Math.random(),lat:39+Math.random()});this.load()}},mounted(){this.load()}}</script>