{"ast":null,"code":"import PageHeader from '../../components/PageHeader.vue';\nimport MapMock from '../../components/MapMock.vue';\nimport { mapPointsApi, updateMyPositionApi } from '../../api/modules/map';\nexport default {\n  components: {\n    PageHeader,\n    MapMock\n  },\n  data() {\n    return {\n      points: []\n    };\n  },\n  methods: {\n    async load() {\n      this.points = (await mapPointsApi()).data;\n    },\n    async random() {\n      const u = this.$store.state.auth.user;\n      await updateMyPositionApi({\n        classId: 'c1',\n        userId: u.id,\n        lng: 116 + Math.random(),\n        lat: 39 + Math.random()\n      });\n      this.load();\n    }\n  },\n  mounted() {\n    this.load();\n  }\n};","map":{"version":3,"names":["PageHeader","MapMock","mapPointsApi","updateMyPositionApi","components","data","points","methods","load","random","u","$store","state","auth","user","classId","userId","id","lng","Math","lat","mounted"],"sources":["src/views/student/Map.vue"],"sourcesContent":["<template><div><PageHeader title=\"同学地图\" desc=\"位置上报\"/><div class=\"card\"><button @click=\"random\">模拟定位</button></div><MapMock :points=\"points\"/></div></template><script>import PageHeader from '../../components/PageHeader.vue';import MapMock from '../../components/MapMock.vue';import { mapPointsApi,updateMyPositionApi } from '../../api/modules/map';export default{components:{PageHeader,MapMock},data(){return{points:[]}},methods:{async load(){this.points=(await mapPointsApi()).data},async random(){const u=this.$store.state.auth.user;await updateMyPositionApi({classId:'c1',userId:u.id,lng:116+Math.random(),lat:39+Math.random()});this.load()}},mounted(){this.load()}}</script>"],"mappings":"AAAA,OAAAA,UAAA;AAAA,OAAAC,OAAA;AAAA,SAAAC,YAAA,EAAAC,mBAAA;AAAA;EAAAC,UAAA;IAAAJ,UAAA;IAAAC;EAAA;EAAAI,KAAA;IAAA;MAAAC,MAAA;IAAA;EAAA;EAAAC,OAAA;IAAA,MAAAC,KAAA;MAAA,KAAAF,MAAA,UAAAJ,YAAA,IAAAG,IAAA;IAAA;IAAA,MAAAI,OAAA;MAAA,MAAAC,CAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,IAAA;MAAA,MAAAX,mBAAA;QAAAY,OAAA;QAAAC,MAAA,EAAAN,CAAA,CAAAO,EAAA;QAAAC,GAAA,QAAAC,IAAA,CAAAV,MAAA;QAAAW,GAAA,OAAAD,IAAA,CAAAV,MAAA;MAAA;MAAA,KAAAD,IAAA;IAAA;EAAA;EAAAa,QAAA;IAAA,KAAAb,IAAA;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}