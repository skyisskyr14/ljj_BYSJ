{"ast":null,"code":"import PageHeader from '../../components/PageHeader.vue';\nimport { albumListApi, manageAlbumApi } from '../../api/modules/album';\nexport default {\n  components: {\n    PageHeader\n  },\n  data() {\n    return {\n      list: [],\n      name: ''\n    };\n  },\n  methods: {\n    async load() {\n      this.list = (await albumListApi()).data;\n    },\n    async create() {\n      await manageAlbumApi({\n        action: 'create',\n        payload: {\n          name: this.name,\n          classId: 'c1',\n          permission: 'all'\n        }\n      });\n      this.name = '';\n      this.load();\n    },\n    async del(a) {\n      await manageAlbumApi({\n        action: 'remove',\n        id: a.id\n      });\n      this.load();\n    }\n  },\n  mounted() {\n    this.load();\n  }\n};","map":{"version":3,"names":["PageHeader","albumListApi","manageAlbumApi","components","data","list","name","methods","load","create","action","payload","classId","permission","del","a","id","mounted"],"sources":["src/views/monitor/AlbumManage.vue"],"sourcesContent":["<template><div><PageHeader title=\"相册管理\" desc=\"创建与删除\"/><div class=\"card\"><input v-model=\"name\" placeholder=\"相册名\"/><button @click=\"create\">创建</button></div><div class=\"card\" v-for=\"a in list\" :key=\"a.id\">{{a.name}}<button @click=\"del(a)\">删除</button></div></div></template><script>import PageHeader from '../../components/PageHeader.vue';import { albumListApi,manageAlbumApi } from '../../api/modules/album';export default{components:{PageHeader},data(){return{list:[],name:''}},methods:{async load(){this.list=(await albumListApi()).data},async create(){await manageAlbumApi({action:'create',payload:{name:this.name,classId:'c1',permission:'all'}});this.name='';this.load()},async del(a){await manageAlbumApi({action:'remove',id:a.id});this.load()}},mounted(){this.load()}}</script>"],"mappings":"AAAA,OAAAA,UAAA;AAAA,SAAAC,YAAA,EAAAC,cAAA;AAAA;EAAAC,UAAA;IAAAH;EAAA;EAAAI,KAAA;IAAA;MAAAC,IAAA;MAAAC,IAAA;IAAA;EAAA;EAAAC,OAAA;IAAA,MAAAC,KAAA;MAAA,KAAAH,IAAA,UAAAJ,YAAA,IAAAG,IAAA;IAAA;IAAA,MAAAK,OAAA;MAAA,MAAAP,cAAA;QAAAQ,MAAA;QAAAC,OAAA;UAAAL,IAAA,OAAAA,IAAA;UAAAM,OAAA;UAAAC,UAAA;QAAA;MAAA;MAAA,KAAAP,IAAA;MAAA,KAAAE,IAAA;IAAA;IAAA,MAAAM,IAAAC,CAAA;MAAA,MAAAb,cAAA;QAAAQ,MAAA;QAAAM,EAAA,EAAAD,CAAA,CAAAC;MAAA;MAAA,KAAAR,IAAA;IAAA;EAAA;EAAAS,QAAA;IAAA,KAAAT,IAAA;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}