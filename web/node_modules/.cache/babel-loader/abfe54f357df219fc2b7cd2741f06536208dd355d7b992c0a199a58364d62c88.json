{"ast":null,"code":"import \"core-js/modules/es.iterator.constructor.js\";\nimport \"core-js/modules/es.iterator.for-each.js\";\nimport \"core-js/modules/es.json.stringify.js\";\nimport \"core-js/modules/web.url-search-params.delete.js\";\nimport \"core-js/modules/web.url-search-params.has.js\";\nimport \"core-js/modules/web.url-search-params.size.js\";\nconst BASE_URL = process.env.VUE_APP_API_BASE || 'http://localhost:10438/api';\nfunction buildQuery(params = {}) {\n  const query = new URLSearchParams();\n  Object.keys(params).forEach(k => {\n    if (params[k] !== undefined && params[k] !== null && params[k] !== '') {\n      query.append(k, params[k]);\n    }\n  });\n  const q = query.toString();\n  return q ? `?${q}` : '';\n}\nexport const http = {\n  async request({\n    url,\n    method = 'get',\n    data,\n    params\n  }) {\n    const token = localStorage.getItem('token') || '';\n    const response = await fetch(`${BASE_URL}${url}${buildQuery(params)}`, {\n      method: method.toUpperCase(),\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        ...(token ? {\n          Authorization: `Bearer ${token}`\n        } : {})\n      },\n      body: data ? JSON.stringify(data) : undefined\n    });\n    return response.json();\n  },\n  get(url, params) {\n    return this.request({\n      url,\n      method: 'get',\n      params\n    });\n  },\n  post(url, data) {\n    return this.request({\n      url,\n      method: 'post',\n      data\n    });\n  },\n  put(url, data) {\n    return this.request({\n      url,\n      method: 'put',\n      data\n    });\n  },\n  delete(url, data) {\n    return this.request({\n      url,\n      method: 'delete',\n      data\n    });\n  }\n};","map":{"version":3,"names":["BASE_URL","process","env","VUE_APP_API_BASE","buildQuery","params","query","URLSearchParams","Object","keys","forEach","k","undefined","append","q","toString","http","request","url","method","data","token","localStorage","getItem","response","fetch","toUpperCase","credentials","headers","Authorization","body","JSON","stringify","json","get","post","put","delete"],"sources":["/home/skyissky/skyissky/BYSJ/ljj/web/src/api/http.js"],"sourcesContent":["const BASE_URL = process.env.VUE_APP_API_BASE || 'http://localhost:10438/api'\n\nfunction buildQuery(params = {}) {\n  const query = new URLSearchParams()\n  Object.keys(params).forEach((k) => {\n    if (params[k] !== undefined && params[k] !== null && params[k] !== '') {\n      query.append(k, params[k])\n    }\n  })\n  const q = query.toString()\n  return q ? `?${q}` : ''\n}\n\nexport const http = {\n  async request({ url, method = 'get', data, params }) {\n    const token = localStorage.getItem('token') || ''\n    const response = await fetch(`${BASE_URL}${url}${buildQuery(params)}`, {\n      method: method.toUpperCase(),\n      credentials: 'include',\n      headers: {\n        'Content-Type': 'application/json',\n        ...(token ? { Authorization: `Bearer ${token}` } : {})\n      },\n      body: data ? JSON.stringify(data) : undefined\n    })\n    return response.json()\n  },\n  get(url, params) { return this.request({ url, method: 'get', params }) },\n  post(url, data) { return this.request({ url, method: 'post', data }) },\n  put(url, data) { return this.request({ url, method: 'put', data }) },\n  delete(url, data) { return this.request({ url, method: 'delete', data }) }\n}\n"],"mappings":";;;;;;AAAA,MAAMA,QAAQ,GAAGC,OAAO,CAACC,GAAG,CAACC,gBAAgB,IAAI,4BAA4B;AAE7E,SAASC,UAAUA,CAACC,MAAM,GAAG,CAAC,CAAC,EAAE;EAC/B,MAAMC,KAAK,GAAG,IAAIC,eAAe,CAAC,CAAC;EACnCC,MAAM,CAACC,IAAI,CAACJ,MAAM,CAAC,CAACK,OAAO,CAAEC,CAAC,IAAK;IACjC,IAAIN,MAAM,CAACM,CAAC,CAAC,KAAKC,SAAS,IAAIP,MAAM,CAACM,CAAC,CAAC,KAAK,IAAI,IAAIN,MAAM,CAACM,CAAC,CAAC,KAAK,EAAE,EAAE;MACrEL,KAAK,CAACO,MAAM,CAACF,CAAC,EAAEN,MAAM,CAACM,CAAC,CAAC,CAAC;IAC5B;EACF,CAAC,CAAC;EACF,MAAMG,CAAC,GAAGR,KAAK,CAACS,QAAQ,CAAC,CAAC;EAC1B,OAAOD,CAAC,GAAG,IAAIA,CAAC,EAAE,GAAG,EAAE;AACzB;AAEA,OAAO,MAAME,IAAI,GAAG;EAClB,MAAMC,OAAOA,CAAC;IAAEC,GAAG;IAAEC,MAAM,GAAG,KAAK;IAAEC,IAAI;IAAEf;EAAO,CAAC,EAAE;IACnD,MAAMgB,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE;IACjD,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,GAAGzB,QAAQ,GAAGkB,GAAG,GAAGd,UAAU,CAACC,MAAM,CAAC,EAAE,EAAE;MACrEc,MAAM,EAAEA,MAAM,CAACO,WAAW,CAAC,CAAC;MAC5BC,WAAW,EAAE,SAAS;MACtBC,OAAO,EAAE;QACP,cAAc,EAAE,kBAAkB;QAClC,IAAIP,KAAK,GAAG;UAAEQ,aAAa,EAAE,UAAUR,KAAK;QAAG,CAAC,GAAG,CAAC,CAAC;MACvD,CAAC;MACDS,IAAI,EAAEV,IAAI,GAAGW,IAAI,CAACC,SAAS,CAACZ,IAAI,CAAC,GAAGR;IACtC,CAAC,CAAC;IACF,OAAOY,QAAQ,CAACS,IAAI,CAAC,CAAC;EACxB,CAAC;EACDC,GAAGA,CAAChB,GAAG,EAAEb,MAAM,EAAE;IAAE,OAAO,IAAI,CAACY,OAAO,CAAC;MAAEC,GAAG;MAAEC,MAAM,EAAE,KAAK;MAAEd;IAAO,CAAC,CAAC;EAAC,CAAC;EACxE8B,IAAIA,CAACjB,GAAG,EAAEE,IAAI,EAAE;IAAE,OAAO,IAAI,CAACH,OAAO,CAAC;MAAEC,GAAG;MAAEC,MAAM,EAAE,MAAM;MAAEC;IAAK,CAAC,CAAC;EAAC,CAAC;EACtEgB,GAAGA,CAAClB,GAAG,EAAEE,IAAI,EAAE;IAAE,OAAO,IAAI,CAACH,OAAO,CAAC;MAAEC,GAAG;MAAEC,MAAM,EAAE,KAAK;MAAEC;IAAK,CAAC,CAAC;EAAC,CAAC;EACpEiB,MAAMA,CAACnB,GAAG,EAAEE,IAAI,EAAE;IAAE,OAAO,IAAI,CAACH,OAAO,CAAC;MAAEC,GAAG;MAAEC,MAAM,EAAE,QAAQ;MAAEC;IAAK,CAAC,CAAC;EAAC;AAC3E,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}