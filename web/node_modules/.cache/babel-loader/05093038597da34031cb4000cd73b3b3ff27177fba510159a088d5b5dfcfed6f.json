{"ast":null,"code":"import { albumDetailApi, uploadPhotoApi } from '../../api/modules/album';\nimport PageHeader from '../../components/PageHeader.vue';\nimport UploadMock from '../../components/UploadMock.vue';\nimport ResponsiveTableCard from '../../components/ResponsiveTableCard.vue';\nexport default {\n  components: {\n    PageHeader,\n    UploadMock,\n    ResponsiveTableCard\n  },\n  data() {\n    return {\n      photos: [],\n      img: ''\n    };\n  },\n  methods: {\n    async load() {\n      this.photos = (await albumDetailApi({\n        id: this.$route.params.id\n      })).data;\n    },\n    async upload() {\n      const u = this.$store.state.auth.user;\n      await uploadPhotoApi({\n        albumId: this.$route.params.id,\n        userId: u.id,\n        url: this.img,\n        name: '上传图片'\n      });\n      this.img = '';\n      this.load();\n    }\n  },\n  mounted() {\n    this.load();\n  }\n};","map":{"version":3,"names":["albumDetailApi","uploadPhotoApi","PageHeader","UploadMock","ResponsiveTableCard","components","data","photos","img","methods","load","id","$route","params","upload","u","$store","state","auth","user","albumId","userId","url","name","mounted"],"sources":["src/views/student/AlbumDetail.vue"],"sourcesContent":["<template><div><PageHeader title=\"相册详情\" desc=\"上传照片\"/><div class=\"card\"><UploadMock v-model=\"img\"/><button @click=\"upload\">上传</button></div><ResponsiveTableCard :items=\"photos\"><template #default=\"{item}\"><img :src=\"item.url||'https://via.placeholder.com/120'\" class=\"thumb\"/><p>{{item.name}}</p></template></ResponsiveTableCard></div></template><script>import { albumDetailApi, uploadPhotoApi } from '../../api/modules/album';import PageHeader from '../../components/PageHeader.vue';import UploadMock from '../../components/UploadMock.vue';import ResponsiveTableCard from '../../components/ResponsiveTableCard.vue';export default{components:{PageHeader,UploadMock,ResponsiveTableCard},data(){return{photos:[],img:''}},methods:{async load(){this.photos=(await albumDetailApi({id:this.$route.params.id})).data},async upload(){const u=this.$store.state.auth.user;await uploadPhotoApi({albumId:this.$route.params.id,userId:u.id,url:this.img,name:'上传图片'});this.img='';this.load()}},mounted(){this.load()}}</script>"],"mappings":"AAAA,SAAAA,cAAA,EAAAC,cAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,mBAAA;AAAA;EAAAC,UAAA;IAAAH,UAAA;IAAAC,UAAA;IAAAC;EAAA;EAAAE,KAAA;IAAA;MAAAC,MAAA;MAAAC,GAAA;IAAA;EAAA;EAAAC,OAAA;IAAA,MAAAC,KAAA;MAAA,KAAAH,MAAA,UAAAP,cAAA;QAAAW,EAAA,OAAAC,MAAA,CAAAC,MAAA,CAAAF;MAAA,IAAAL,IAAA;IAAA;IAAA,MAAAQ,OAAA;MAAA,MAAAC,CAAA,QAAAC,MAAA,CAAAC,KAAA,CAAAC,IAAA,CAAAC,IAAA;MAAA,MAAAlB,cAAA;QAAAmB,OAAA,OAAAR,MAAA,CAAAC,MAAA,CAAAF,EAAA;QAAAU,MAAA,EAAAN,CAAA,CAAAJ,EAAA;QAAAW,GAAA,OAAAd,GAAA;QAAAe,IAAA;MAAA;MAAA,KAAAf,GAAA;MAAA,KAAAE,IAAA;IAAA;EAAA;EAAAc,QAAA;IAAA,KAAAd,IAAA;EAAA;AAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}